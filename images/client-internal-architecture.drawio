<mxfile host="app.diagrams.net" modified="2024-09-18T03:00:00.000Z" agent="5.0" etag="xxx" version="21.6.5" type="device">
  <diagram name="ClientÁ±ªÂÜÖÈÉ®Êû∂ÊûÑ" id="client-internal-architecture">
    <mxGraphModel dx="1422" dy="794" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- Ê†áÈ¢ò -->
        <mxCell id="title" value="ClientÁ±ªÂÜÖÈÉ®Êû∂ÊûÑËÆæËÆ°" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#2c3e50;" vertex="1" parent="1">
          <mxGeometry x="450" y="20" width="300" height="40" as="geometry" />
        </mxCell>
        
        <!-- Client‰∏ªÁ±ª -->
        <mxCell id="client-main" value="ClientÁ±ª" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontSize=16;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="400" y="80" width="400" height="500" as="geometry" />
        </mxCell>
        
        <!-- Ê†∏ÂøÉÊñπÊ≥ïÂå∫Âüü -->
        <mxCell id="core-methods" value="Ê†∏ÂøÉÊñπÊ≥ï" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f4fd;strokeColor=#6c8ebf;fontSize=14;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="420" y="120" width="160" height="120" as="geometry" />
        </mxCell>
        
        <!-- Ê†∏ÂøÉÊñπÊ≥ïÂàóË°® -->
        <mxCell id="method-call" value="call()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f8ff;strokeColor=#6c8ebf;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="430" y="150" width="60" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="method-send" value="sendRpcRequest()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f8ff;strokeColor=#6c8ebf;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="500" y="150" width="70" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="method-receive" value="receiveRpcResponse()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f8ff;strokeColor=#6c8ebf;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="430" y="185" width="80" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="method-getconn" value="getConnection()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f8ff;strokeColor=#6c8ebf;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="520" y="185" width="70" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="method-stop" value="stop()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0f8ff;strokeColor=#6c8ebf;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="480" y="220" width="50" height="25" as="geometry" />
        </mxCell>
        
        <!-- CallÂÜÖÈÉ®Á±ª -->
        <mxCell id="call-inner" value="CallÂÜÖÈÉ®Á±ª" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="620" y="120" width="160" height="120" as="geometry" />
        </mxCell>
        
        <!-- CallÂ±ûÊÄß -->
        <mxCell id="call-id" value="callId: int" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#82b366;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="630" y="150" width="70" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="call-retry" value="retry: int" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#82b366;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="710" y="150" width="60" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="call-rpc" value="rpcRequest" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#82b366;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="630" y="180" width="70" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="call-future" value="CompletableFuture" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#82b366;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="710" y="180" width="60" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="call-timestamp" value="timestamp" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#82b366;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="670" y="210" width="60" height="20" as="geometry" />
        </mxCell>
        
        <!-- ConnectionÂÜÖÈÉ®Á±ª -->
        <mxCell id="connection-inner" value="ConnectionÂÜÖÈÉ®Á±ª" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontSize=14;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="420" y="270" width="360" height="180" as="geometry" />
        </mxCell>
        
        <!-- ConnectionÂ±ûÊÄßÂå∫Âüü -->
        <mxCell id="conn-attrs" value="ËøûÊé•Â±ûÊÄß" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#d6b656;fontSize=12;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="430" y="300" width="160" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="conn-id" value="ConnectionId" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="440" y="320" width="60" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="conn-socket" value="Socket" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="510" y="320" width="50" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="conn-in" value="InputStream" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="440" y="350" width="60" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="conn-out" value="OutputStream" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="510" y="350" width="70" height="20" as="geometry" />
        </mxCell>
        
        <!-- ConnectionÊñπÊ≥ïÂå∫Âüü -->
        <mxCell id="conn-methods" value="ËøûÊé•ÊñπÊ≥ï" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#d6b656;fontSize=12;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="610" y="300" width="160" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="conn-setup" value="setupConnection()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="620" y="320" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="conn-send" value="sendRpcRequest()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="710" y="320" width="50" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="conn-receive" value="receiveRpcResponse()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="620" y="350" width="80" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="conn-close" value="close()" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="710" y="350" width="40" height="20" as="geometry" />
        </mxCell>
        
        <!-- ConnectionÁä∂ÊÄÅÁÆ°ÁêÜ -->
        <mxCell id="conn-state" value="Áä∂ÊÄÅÁÆ°ÁêÜ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff8e1;strokeColor=#d6b656;fontSize=12;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="430" y="390" width="340" height="50" as="geometry" />
        </mxCell>
        
        <mxCell id="state-calls" value="calls: Map&lt;Integer, Call&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="440" y="415" width="120" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="state-running" value="shouldCloseConnection" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="570" y="415" width="100" height="20" as="geometry" />
        </mxCell>
        
        <mxCell id="state-lastactivity" value="lastActivity" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fffacd;strokeColor=#d6b656;fontSize=10;" vertex="1" parent="1">
          <mxGeometry x="680" y="415" width="80" height="20" as="geometry" />
        </mxCell>
        
        <!-- ËøûÊé•Ê±†ÁÆ°ÁêÜ -->
        <mxCell id="connection-pool" value="ËøûÊé•Ê±†ÁÆ°ÁêÜ" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontSize=14;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="420" y="480" width="360" height="80" as="geometry" />
        </mxCell>
        
        <mxCell id="pool-connections" value="connections: Map&lt;ConnectionId, Connection&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#b85450;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="430" y="510" width="200" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="pool-factory" value="ConnectionFactory" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#b85450;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="650" y="510" width="100" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="pool-cleanup" value="ËøûÊé•Ê∏ÖÁêÜÊú∫Âà∂" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fce4ec;strokeColor=#b85450;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="540" y="540" width="80" height="25" as="geometry" />
        </mxCell>
        
        <!-- Â§ñÈÉ®ÁªÑ‰ª∂ -->
        <mxCell id="external-rpcengine" value="RpcEngine" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="100" y="200" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="external-config" value="Configuration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="100" y="280" width="80" height="40" as="geometry" />
        </mxCell>
        
        <mxCell id="external-sasl" value="SaslRpcClient" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontSize=12;" vertex="1" parent="1">
          <mxGeometry x="100" y="360" width="80" height="40" as="geometry" />
        </mxCell>
        
        <!-- ÂºÇÊ≠•Â§ÑÁêÜ -->
        <mxCell id="async-processing" value="ÂºÇÊ≠•Â§ÑÁêÜÊú∫Âà∂" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontSize=14;fontStyle=1;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="850" y="200" width="200" height="150" as="geometry" />
        </mxCell>
        
        <mxCell id="async-future" value="CompletableFuture&lt;T&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#82b366;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="870" y="230" width="120" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="async-callback" value="AsyncCallback" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#82b366;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="870" y="265" width="100" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="async-executor" value="ExecutorService" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#82b366;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="870" y="300" width="100" height="25" as="geometry" />
        </mxCell>
        
        <mxCell id="async-timeout" value="Ë∂ÖÊó∂Â§ÑÁêÜÊú∫Âà∂" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e8f5e8;strokeColor=#82b366;fontSize=11;" vertex="1" parent="1">
          <mxGeometry x="870" y="335" width="100" height="25" as="geometry" />
        </mxCell>
        
        <!-- ËøûÊé•Á∫ø -->
        <defs>
          <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#2c3e50"/>
          </marker>
          <marker id="arrowhead-use" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#27ae60"/>
          </marker>
          <marker id="arrowhead-create" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#e74c3c"/>
          </marker>
        </defs>
        
        <!-- Â§ñÈÉ®‰æùËµñËøûÊé• -->
        <line x1="180" y1="220" x2="400" y2="180" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead-use)"/>
        <line x1="180" y1="300" x2="400" y2="250" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead-use)"/>
        <line x1="180" y1="380" x2="400" y2="350" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead-use)"/>
        
        <!-- ClientÂà∞CallÁöÑÂàõÂª∫ÂÖ≥Á≥ª -->
        <line x1="580" y1="180" x2="620" y2="180" stroke="#e74c3c" stroke-width="2" marker-end="url(#arrowhead-create)"/>
        <text x="590" y="175" fill="#e74c3c" font-size="10">ÂàõÂª∫</text>
        
        <!-- ClientÂà∞ÂºÇÊ≠•Â§ÑÁêÜÁöÑ‰ΩøÁî®ÂÖ≥Á≥ª -->
        <line x1="800" y1="200" x2="850" y2="250" stroke="#27ae60" stroke-width="2" marker-end="url(#arrowhead-use)"/>
        <text x="810" y="220" fill="#27ae60" font-size="10">ÂºÇÊ≠•Ë∞ÉÁî®</text>
        
        <!-- Ë∞ÉÁî®ÊµÅÁ®ãÁÆ≠Â§¥ -->
        <text x="50" y="650" font-size="14" font-weight="bold" fill="#2c3e50">Ë∞ÉÁî®ÊµÅÁ®ãÔºö</text>
        <text x="50" y="670" font-size="11" fill="#2c3e50">1. call() ‚Üí 2. getConnection() ‚Üí 3. sendRpcRequest() ‚Üí 4. receiveRpcResponse()</text>
        
        <!-- ÁªÑ‰ª∂ËØ¥Êòé -->
        <text x="850" y="400" font-size="12" fill="#2c3e50">üîµ ‰∏ªË¶ÅÊñπÊ≥ï</text>
        <text x="850" y="420" font-size="12" fill="#2c3e50">üü¢ ÂÜÖÈÉ®Á±ª</text>
        <text x="850" y="440" font-size="12" fill="#2c3e50">üü° ËøûÊé•ÁÆ°ÁêÜ</text>
        <text x="850" y="460" font-size="12" fill="#2c3e50">üî¥ ËøûÊé•Ê±†</text>
        <text x="850" y="480" font-size="12" fill="#2c3e50">üü£ Â§ñÈÉ®‰æùËµñ</text>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
