<svg width="1000" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 16px sans-serif; text-anchor: middle; fill: #2c3e50; }
      .subtitle { font: 12px sans-serif; text-anchor: middle; fill: #666; }
      .layer { font: bold 14px sans-serif; text-anchor: middle; fill: white; }
      .component { font: 11px sans-serif; text-anchor: middle; fill: #2c3e50; }
      .protocol { font: 10px sans-serif; text-anchor: middle; fill: #d79b00; }
    </style>
  </defs>
  
  <!-- 背景 -->
  <rect width="1000" height="600" fill="#f8f9fa" stroke="#dee2e6" stroke-width="2"/>
  
  <!-- 标题 -->
  <text x="500" y="30" class="title">Hadoop生态系统RPC通信架构</text>
  <text x="500" y="50" class="subtitle">展示应用层、YARN层、HDFS层之间的RPC协议连接关系</text>
  
  <!-- 应用层 -->
  <rect x="50" y="80" width="900" height="80" fill="#e1d5e7" stroke="#9673a6" stroke-width="2" rx="5"/>
  <text x="500" y="105" class="layer">应用层</text>
  
  <rect x="100" y="110" width="80" height="40" fill="#fff2cc" stroke="#d6b656" rx="3"/>
  <text x="140" y="135" class="component">Spark</text>
  
  <rect x="200" y="110" width="80" height="40" fill="#fff2cc" stroke="#d6b656" rx="3"/>
  <text x="240" y="135" class="component">Hive</text>
  
  <rect x="300" y="110" width="80" height="40" fill="#fff2cc" stroke="#d6b656" rx="3"/>
  <text x="340" y="135" class="component">HBase</text>
  
  <rect x="400" y="110" width="80" height="40" fill="#fff2cc" stroke="#d6b656" rx="3"/>
  <text x="440" y="135" class="component">MapReduce</text>
  
  <!-- YARN层 -->
  <rect x="50" y="200" width="900" height="150" fill="#d5e8d4" stroke="#82b366" stroke-width="2" rx="5"/>
  <text x="500" y="225" class="layer">YARN 资源管理层</text>
  
  <rect x="450" y="240" width="100" height="50" fill="#f8cecc" stroke="#b85450" rx="3"/>
  <text x="500" y="260" class="component">ResourceManager</text>
  <text x="500" y="275" class="component">(RM)</text>
  
  <rect x="150" y="300" width="80" height="40" fill="#dae8fc" stroke="#6c8ebf" rx="3"/>
  <text x="190" y="325" class="component">NodeManager1</text>
  
  <rect x="250" y="300" width="80" height="40" fill="#dae8fc" stroke="#6c8ebf" rx="3"/>
  <text x="290" y="325" class="component">NodeManager2</text>
  
  <rect x="450" y="300" width="100" height="40" fill="#ffe6cc" stroke="#d79b00" rx="3"/>
  <text x="500" y="325" class="component">ApplicationMaster</text>
  
  <rect x="650" y="300" width="80" height="40" fill="#dae8fc" stroke="#6c8ebf" rx="3"/>
  <text x="690" y="325" class="component">NodeManager3</text>
  
  <!-- HDFS层 -->
  <rect x="50" y="390" width="900" height="150" fill="#f0f0f0" stroke="#666666" stroke-width="2" rx="5"/>
  <text x="500" y="415" class="layer">HDFS 分布式文件系统层</text>
  
  <rect x="450" y="430" width="100" height="50" fill="#f8cecc" stroke="#b85450" rx="3"/>
  <text x="500" y="450" class="component">NameNode</text>
  <text x="500" y="465" class="component">(NN)</text>
  
  <rect x="100" y="430" width="80" height="40" fill="#ffe6cc" stroke="#d79b00" rx="3"/>
  <text x="140" y="455" class="component">HDFS Client</text>
  
  <rect x="150" y="500" width="80" height="30" fill="#dae8fc" stroke="#6c8ebf" rx="3"/>
  <text x="190" y="520" class="component">DataNode1</text>
  
  <rect x="250" y="500" width="80" height="30" fill="#dae8fc" stroke="#6c8ebf" rx="3"/>
  <text x="290" y="520" class="component">DataNode2</text>
  
  <rect x="650" y="500" width="80" height="30" fill="#dae8fc" stroke="#6c8ebf" rx="3"/>
  <text x="690" y="520" class="component">DataNode3</text>
  
  <!-- RPC连接线示例 -->
  <line x1="140" y1="150" x2="500" y2="240" stroke="#d79b00" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="320" y="195" class="protocol">ApplicationClientProtocol</text>
  
  <line x1="500" y1="290" x2="500" y2="240" stroke="#82b366" stroke-width="2"/>
  <text x="520" y="265" class="protocol">ApplicationMasterProtocol</text>
  
  <line x1="140" y1="430" x2="450" y2="450" stroke="#d79b00" stroke-width="2"/>
  <text x="295" y="425" class="protocol">ClientProtocol</text>
  
  <line x1="190" y1="500" x2="450" y2="470" stroke="#6c8ebf" stroke-width="2"/>
  <text x="320" y="485" class="protocol">DatanodeProtocol</text>
  
  <!-- 图例 -->
  <rect x="750" y="430" width="180" height="100" fill="#f5f5f5" stroke="#666666" rx="3"/>
  <text x="840" y="450" class="component" style="font-weight: bold;">图例</text>
  
  <line x1="770" y1="465" x2="820" y2="465" stroke="#d79b00" stroke-width="2"/>
  <text x="830" y="470" class="component">RPC调用</text>
  
  <line x1="770" y1="485" x2="820" y2="485" stroke="#6c8ebf" stroke-width="2"/>
  <text x="830" y="490" class="component">心跳/汇报</text>
  
  <line x1="770" y1="505" x2="820" y2="505" stroke="#9673a6" stroke-width="2" stroke-dasharray="5,5"/>
  <text x="830" y="510" class="component">跨层调用</text>
  
  <!-- 提示信息 -->
  <text x="500" y="580" class="subtitle">请使用Draw.io打开 hadoop-rpc-ecosystem.drawio 文件编辑此图表，然后导出为SVG格式</text>
</svg>
